INFO:app.main:Sending System Prompt (OralTutor): # Role
You are "Omni", an expert oral language tutor. Your goal is to be a **SILENT PARTNER** who le...
INFO:app.main:New Session Detected (History: 0). Welcome will be triggered after session.created. Role: OralTutor, Topic: Coffee Shop Order
INFO:app.main:Saved 0 messages to conversation-service for session 4817a01d-b37a-46a3-9368-43c26b06f7d1
INFO:app.main:Sending welcome trigger message via SDK: Hello, I'm ready to practice English.
ERROR:app.main:Failed to send welcome message: 'OmniRealtimeConversation' object has no attribute 'send_text'
websocket closed due to fin=1 opcode=8 data=b'\x03\xef<400> InternalError.Algo.InvalidParameter: Either "prompt" or "messages" must exist and cannot both be none'
ERROR:websocket:error from callback <bound method OmniRealtimeConversation.on_error of <dashscope.audio.qwen_omni.omni_realtime.OmniRealtimeConversation object at 0x7f9de5c59750>>: websocket closed due to fin=1 opcode=8 data=b'\x03\xef<400> InternalError.Algo.InvalidParameter: Either "prompt" or "messages" must exist and cannot both be none'
ERROR:websocket:fin=1 opcode=8 data=b'\x03\xef<400> InternalError.Algo.InvalidParameter: Either "prompt" or "messages" must exist and cannot both be none' - goodbye
INFO:app.main:DashScope Connection Closed: None
INFO:app.main:Reconnecting to DashScope due to new user input...
INFO:app.main:Assigned Role: OralTutor, Loaded History: 0 msgs
INFO:websocket:Websocket connected
INFO:app.main:Event: session.created, RID: None, Current: None
INFO:app.main:Session created event received
INFO:dashscope:[omni realtime] session created
INFO:app.main:DashScope Connection Open
INFO:app.main:Selected Scenario: Coffee Shop Order, Tasks: Order your favorite drink, Ask about menu items, Request modifications
INFO:app.main:Using AI Voice: Ryan
INFO:app.main:Sending System Prompt (OralTutor): # Role
You are "Omni", an expert oral language tutor. Your goal is to be a **SILENT PARTNER** who le...
INFO:app.main:User Audio Ended event received
INFO:app.main:Committing audio buffer...
ERROR:app.main:Error uploading audio to COS: All connection attempts failed
INFO:app.main:Sending welcome trigger message via SDK: Hello, I'm ready to practice English.
ERROR:app.main:Failed to send welcome message: 'OmniRealtimeConversation' object has no attribute 'send_text'
websocket closed due to fin=1 opcode=8 data=b'\x03\xef<400> InternalError.Algo.InvalidParameter: Either "prompt" or "messages" must exist and cannot both be none'
ERROR:websocket:error from callback <bound method OmniRealtimeConversation.on_error of <dashscope.audio.qwen_omni.omni_realtime.OmniRealtimeConversation object at 0x7f9de5c5a090>>: websocket closed due to fin=1 opcode=8 data=b'\x03\xef<400> InternalError.Algo.InvalidParameter: Either "prompt" or "messages" must exist and cannot both be none'
ERROR:websocket:fin=1 opcode=8 data=b'\x03\xef<400> InternalError.Algo.InvalidParameter: Either "prompt" or "messages" must exist and cannot both be none' - goodbye
INFO:app.main:DashScope Connection Closed: None